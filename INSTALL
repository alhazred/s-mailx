I n s t a l l i n g  S - n a i l
================================

Quick start
-----------

Read user.conf and maybe adjust some feature settings according to your
needs.  You may also want to look into the Makefile, e.g., to change the
PREFIX, or to adjust whatever else before the >8 scissor line.  Then run

  $ [make &&] make install # (Or only make install)
  $ make uninstall         # (Will not remove the example configuration)
  $ make distclean         # *Completely* cleanup working directory

If some libraries miss that you know are installed on your system, or if
other errors occur due to missing files but which you know exist, please
ensure that the environment variable C_INCLUDE_PATH includes the
necessary include/ paths and LD_LIBRARY_PATH includes the necessary
lib/rary paths.  The S-nail make system will inspect these two and
*automatically* convert them to cc(1) (c99(1)) -I and -L options (since
these environment variables are not standardized by POSIX).  pkgsrc(7)
paths will be automatically appended to these two, if found.  E.g., in
a Bourne/Korn/POSIX compatible shell:

  $ C_INCLUDE_PATH=${C_INCLUDE_PATH}:/usr/local/include
  $ LD_LIBRARY_PATH=${LD_LIBRARY_PATH}:/usr/local/lib
  $ export C_INCLUDE_PATH LD_LIBRARY_PATH
  $ make install

Instead of actually *editing* the Makefile it is probably much easier to
override variables from within the command line instead, e.g., to change
the installation directory:

  $ make PREFIX=/some/nasty/prefix STRIP='/usr/bin/strip -s' install

And instead of editing user.conf you may also choose predefined CONFIG
sets from the command line:

  CONFIG=MINIMAL  little is left but some air to breathe.
  CONFIG=NETLESS  all settings from user.conf relating internet connect-
                  ivity are off.
  CONFIG=NETSEND  WANT_SMTP and WANT_SSL settings are enabled, otherwise
                  identical to MINIMAL.
  CONFIG=CUSTOM   don't touch anything, i.e., enable all features.
                  To disable specific features, add FEATURE=0 command
                  line arguments when running make [install].

When this CONFIG-set approach is used, the following additional switches
may be used on the command line (in fact any single entry of user.conf
may be given on the command line, the actually chosen CONFIG may however
overwrite some of the settings again -- except CONFIG=CUSTOM by concept):

  WANT_IDNA=0     Do not (try to) support internationalized domain names.
  WANT_DOCSTRINGS=0
                  Don't include command synopsis strings for "help".

E.g.:

  $ make CONFIG=MINIMAL WANT_IDNA=0 DESTDIR=xtest SID=mini- install

would create a "mini-nail" binary and install a "mini-nail" manual etc.
under the prefix /usr/local but rooted under [./]xtest, i.e., the binary
would be installed as "[./]xtest/usr/local/bin/mini-nail".  Note that
for "make uninstall" the *exact* command line should be repeated.

Notes for S-nail(1) v13.*
-------------------------

- NetBSD 5.1 and 6.0.  Tested with all features except IPv6 and IDNA
  with the default compiler, -O2 and -O3.
  Note that on 6.0 you should not enable -fstrict-overflow, as it
  produces much more warnings than i saw before when testing with all
  the other combinations shown here, and i had yet no time to look over
  all those.
- DragonFly BSD v3.2.1.9-g80b03f-RELEASE.  Compiled and lightly tested
  with all features (except IPv6; possible in a default install).
- Mac OS X Snow Leopard.  Tested with all features (except IPv6) with
  the default CC=clang(1) and CC=gcc(1), -O2 and -O3, the WARNs
  including -fstrict-overflow+.
  Note that it may be necessary to adjust the paths as above if clang(1)
  is used as the compiler, since that may not find all paths otherwise.
- FreeBSD 9.0.  Tested with all features except IPv6, iconv() and IDNA
  with the default CC=clang(1) and CC=gcc(1), -O2, and the WARNs
  including -fstrict-overflow.
- UnixWare 7.1.4.  Tested with all features except IPv6, GSSAPI and IDNA.
- Lightly tested on a default OpenBSD 5.1 and just as-default 5.2.
- Compiled and lightly tested on TinyCoreLinux 4.4 with default compiler
  environment available at that time with -O2.

The current maintainer has not yet looked at the following for real:
IPv6, IMAP+, POP3+, NSS, Bayesian filter.
