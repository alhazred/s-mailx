W e l c o m e  t o  S - n a i l / S - m a i l x
===============================================

S-nail (later S-mailx) is a mail processing system with a command
syntax reminiscent of ed(1) with lines replaced by messages.
It is intended to provide the functionality of the POSIX mailx(1)
command, but is MIME capable and optionally offers extensions for
line editing, IDNA, MIME, S/MIME, SMTP and POP3 (and IMAP).
It is usable as a mail batch language.

Please refer to the file INSTALL for build and installation remarks,
and to NEWS for release update information.  The file THANKS mentions
people who have helped improving and deserve acknowledgement.

This software originates in the codebase of Heirloom mailx, formerly
known as nail, which itself is based upon Berkeley Mail that has
a history back to 1978 and which superseded Unix mail, a program that
already shipped with First Edition Unix from 1971 -- M. Douglas McIlroy
writes in his article "A Research UNIX Reader: Annotated Excerpts from
the Programmer's Manual, 1971-1986":

  MAIL (v1 page 21, v7 page 22)
    Electronic mail was there from the start. Never satisfied with its
    exact behavior, everybody touched it at one time or another: to
    assure the safety of simultaneous access, to improve privacy, to
    survive crashes, to exploit uucp, to screen out foreign freeloaders,
    or whatever. Not until v7 did the interface change (Thompson). [.]

Where?
------

Our latest release can be downloaded at [1], and the fully cross-
referenced manual can also be viewed as HTML online[2].
There are browsable git(1) repositories at sdaoden.eu[3] (use [4] for
cloning purposes), with mirrors at Sourceforge[5] and GitLab.com[6].

  [1] https?://www.sdaoden.eu/downloads/s-nail-latest.tar{,.{asc,gz,xz}}
  [2] https?://www.sdaoden.eu/code.html#s-mailx
  [3] https?://git.sdaoden.eu/cgit/s-nail.git
  [4] https?://git.sdaoden.eu/scm/s-nail.git
  [5] http://sourceforge.net/projects/s-nail
  [6] https://gitlab.com/sdaoden/s-nail

We have a mailing list[7] (later: [8]!) with moderated unsubscribed
posting possibilities; subscriptions can be managed via web interface[9];
Gmane added the ML their NNTP archive[10], and The Mail Archive archives
a browser-accessible and searchable web version[11] -- thank you!
Commits to the [stable/*] and [master] branches will be posted to [12],
and announcements will also be posted to [13], both are receive-only
mailing-lists.

  [7] s-nail-users@lists.sourceforge.net
  [8] s-mailx@sdaoden.eu
  [9] https://lists.sourceforge.net/lists/listinfo/s-nail-users/
  [10] news.gmane.org/gmane.mail.s-nail.user
  [11] www.mail-archive.com/s-nail-users@lists.sourceforge.net/maillist.html
  [12] s-mailx-commit@sdaoden.eu
  [13] s-announce@sdaoden.eu

These and all other mailings-lists at sdaoden.eu are hosted by MLMMJ, so
users can manage their subscriptions by appending keywords to the plain
mailing list address, a +subscribe for subscription, and +unsubscribe
for unsubscription, e.g., s-mailx+subscribe@sdaoden.eu.
Our heraldic animal snailmail.jpg has been found at [+1].
Thank you!

  [+1] http://cdn.whatculture.com/wp-content/uploads/2009/06/snailmail.jpg

Repository layout
-----------------

- [release/*]
    A new branch within release/ is created for every release, e.g.,
    [release/v14.8.10].  History won't be rewritten.

    These branches consist of one commit, and that commit is signed with
    an OpenPGP key and used for the signed release tag,
    vMAJOR.MINOR.UPDATE.ar (.ar for "archive").  The commit as such
    covers the data modifications that make up a release, i.e., release
    date fixation, manual preprocessing, removal of data which doesn't
    make sense in release tarballs, etc.

    (Whereas all this is not true for older releases, the new repository
    layout was introduced after v14.8.10, and used [timeline] as
    a source for most references, therefore the signed tag v14.8.7.ar
    protects all elder references within [release/]:

      $ git describe --contains heads/release/v1.3.0
      v14.8.7.ar~113

- [release/latest] and [release/stable]
    "Symbolic links" to the latest (stable) release branches.

- [stable/*]
    A new branch within stable/ will be created for each new minor
    version, e.g., [stable/v14.8].  History won't be rewritten.

    These are de-facto the [master] branches for their respective minor
    release, which extend for the full lifetime of that, e.g., the
    branch [stable/v14.7] has been created once the v14.7.0 release was
    made, and it extends until the release of v14.7.11, the last v14.7
    update release made.

    Once the time for a new release has come, the head of such a stable
    branch will gain a signed commit and a signed stable tag,
    vMAJOR.MINOR.UPDATE, and then be used as the source for a new branch
    in release/.

- [stable/latest] and [stable/stable]
    "Symbolic links" to the latest (stable) stable branches.

    These are possibly what users should track which want to have the
    newest non-release bugfixes and stable, backward-compatible commits.

- [master]
    Rooted on top of [heirloom].  It gains only stable, but possibly
    backward-incompatible changes (those are usually mentioned on the
    mailing-list), and will be used to create new entries in [stable/].
    History won't be rewritten.

- [next]
    Rooted on top of [master], this consists of a furious mixture of
    commits that eventually end up in [master].  Daring users may give
    this branch a try, but bugs and temporary nonstarters have to be
    dealt with, then.

- [crawl]
    Developer chaos (distributed horror backup - don't use!).

- [timeline]
    A sketchy effort to collect the complete history of Unix mail and
    its successor, BSD Mail.  Anything from the pre-Gunnar Ritter area
    is taken from CSRG and other archives, for nail and Heirloom mailx
    i've used release balls.

- [heirloom]
    A full git(1) cvsimport of the Heirloom mailx(1) cvs(1) repository.

To create a full clone of the repository, with all the data and history:
  $ git clone https://git.sdaoden.eu/scm/s-nail.git

With a newer git(1), and only tracking the latest stable branch:
  $ git clone --single-branch --branch='stable/latest' \
      https://git.sdaoden.eu/scm/s-nail.git

Or, selectively:
  $ mkdir s-nail.git
  $ cd s-nail.git
  $ git init
  $ git remote add origin -t 'release/*' -t 'stable/stable' -t master \
      https://git.sdaoden.eu/scm/s-nail.git
  $ git fetch -v

And then, assuming the last had been done:

  $ # Show all releases
  $ git log --no-walk --decorate --oneline --branches='release/*' --
  $ # Check out the latest release, and verify the signature
  $ git checkout release/latest
  $ git log --oneline --show-signature --max-count=1 HEAD
  $ make all && sudo make install

AUTHORS
-------

Unix mail seems to have been written mostly by Ken Thompson.

Berkeley Mail was (according to def.h) developed by Kurt Shoens, dated
March 25, 1978.  According to the CSRG commit log authors of BSD mail in
the time span 1980-10-08 to 1995-05-01 were, in order of appearance
(commit count): Kurt Shoens (379), Kirk McKusick (50), Carl Smith (16),
Bill Bush (2), Eric Allman (6), Craig Leres (43), Sam Leffler (51),
Ralph Campbell (21), Serge Granik (28), Edward Wang (253),
Donn Seeley (1), Jay Lepreau (3), Jim Bloom (1), Anne Hughes (2),
Kevin Dunlap (34), Keith Bostic (253), Mike Karels (1), Cael Staelin (6)
and Dave Borman (17).  One commit by Charlie Root, 36 by "dist".

Official BSD Mail development ceased in 1995 according to the CSRG
(Berkeley's Computer Systems Research Group) repository.  Mail has then
seen further development in open source BSD variants, noticeably by
Christos Zoulas in NetBSD.

Gunnar Ritter reused that codebase when he started developing nail in
February 2000, and incorporated numerous patches from OpenBSD, NetBSD,
RedHat and Debian.  He added MIME code, network protocol support, and
POSIX conformance improvements. In March 2006, he integrated that
program into the Heirloom project, renaming it to Heirloom mailx, the
development of which ceased in 2008.

In 2012 Steffen (Daode) Nurpmeso adopted the codebase as S-nail.
We try to end up as S-mailx.

# s-ts-mode
